// Compiled by ClojureScript 1.10.597
goog.provide("reagent.impl.input");
reagent.impl.input.these_inputs_have_selection_api = new cljs.core.PersistentHashSet(null, new cljs.core.PersistentArrayMap(null, 6, ["text",null,"textarea",null,"password",null,"search",null,"tel",null,"url",null], null), null);
reagent.impl.input.has_selection_api_QMARK_ = (function reagent$impl$input$has_selection_api_QMARK_(input_type){
return cljs.core.contains_QMARK_.call(null,reagent.impl.input.these_inputs_have_selection_api,input_type);
});
reagent.impl.input.input_node_set_value = (function reagent$impl$input$input_node_set_value(node,rendered_value,dom_value,component,p__352){
var map__353 = p__352;
var map__353__$1 = (((((!((map__353 == null))))?(((((map__353.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__353.cljs$core$ISeq$))))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__353):map__353);
var on_write = cljs.core.get.call(null,map__353__$1,new cljs.core.Keyword(null,"on-write","on-write",(31519475)));
if((!((((node === document.activeElement)) && (reagent.impl.input.has_selection_api_QMARK_.call(null,node.type)) && (typeof rendered_value === 'string') && (typeof dom_value === 'string'))))){
(component.cljsDOMValue = rendered_value);

(node.value = rendered_value);

if(cljs.core.fn_QMARK_.call(null,on_write)){
return on_write.call(null,rendered_value);
} else {
return null;
}
} else {
var node_value = node.value;
if(cljs.core.not_EQ_.call(null,node_value,dom_value)){
return reagent.impl.batching.do_after_render.call(null,(function (){
return reagent.impl.input.input_component_set_value.call(null,component);
}));
} else {
var existing_offset_from_end = (cljs.core.count.call(null,node_value) - node.selectionStart);
var new_cursor_offset = (cljs.core.count.call(null,rendered_value) - existing_offset_from_end);
(component.cljsDOMValue = rendered_value);

(node.value = rendered_value);

if(cljs.core.fn_QMARK_.call(null,on_write)){
on_write.call(null,rendered_value);
} else {
}

(node.selectionStart = new_cursor_offset);

return (node.selectionEnd = new_cursor_offset);
}
}
});
reagent.impl.input.input_component_set_value = (function reagent$impl$input$input_component_set_value(this$){
if(cljs.core.truth_(this$.cljsInputLive)){
(this$.cljsInputDirty = false);

var rendered_value = this$.cljsRenderedValue;
var dom_value = this$.cljsDOMValue;
var node = this$.inputEl;
if(cljs.core.not_EQ_.call(null,rendered_value,dom_value)){
return reagent.impl.input.input_node_set_value.call(null,node,rendered_value,dom_value,this$,cljs.core.PersistentArrayMap.EMPTY);
} else {
return null;
}
} else {
return null;
}
});
reagent.impl.input.input_handle_change = (function reagent$impl$input$input_handle_change(this$,on_change,e){
(this$.cljsDOMValue = e.target.value);

if(cljs.core.truth_(this$.cljsInputDirty)){
} else {
(this$.cljsInputDirty = true);

reagent.impl.batching.do_after_render.call(null,(function (){
return reagent.impl.input.input_component_set_value.call(null,this$);
}));
}

return on_change.call(null,e);
});
reagent.impl.input.input_render_setup = (function reagent$impl$input$input_render_setup(this$,jsprops){
if(cljs.core.truth_((((!((jsprops == null))))?(function (){var and__10091__auto__ = jsprops.hasOwnProperty("onChange");
if(cljs.core.truth_(and__10091__auto__)){
return jsprops.hasOwnProperty("value");
} else {
return and__10091__auto__;
}
})():false))){
var v = jsprops.value;
var value = (((v == null))?"":v);
var on_change = jsprops.onChange;
var original_ref_fn = jsprops.ref;
if(cljs.core.truth_(this$.cljsInputLive)){
} else {
(this$.cljsInputLive = true);

(this$.cljsDOMValue = value);
}

if(cljs.core.truth_(this$.reagentRefFn)){
} else {
(this$.reagentRefFn = (function (el){
(this$.inputEl = el);

if(cljs.core.truth_(original_ref_fn)){
return original_ref_fn.call(null,el);
} else {
return null;
}
}));
}

(this$.cljsRenderedValue = value);

delete jsprops["value"];

(jsprops.defaultValue = value);

(jsprops.onChange = (function (p1__11_SHARP_){
return reagent.impl.input.input_handle_change.call(null,this$,on_change,p1__11_SHARP_);
}));

return (jsprops.ref = this$.reagentRefFn);
} else {
return null;
}
});
reagent.impl.input.input_unmount = (function reagent$impl$input$input_unmount(this$){
return (this$.cljsInputLive = null);
});
reagent.impl.input.input_component_QMARK_ = (function reagent$impl$input$input_component_QMARK_(x){
var G__355 = x;
switch (G__355) {
case "input":
case "textarea":
return true;

break;
default:
return false;

}
});
reagent.impl.input.input_spec = new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"display-name","display-name",(694513143)),"ReagentInput",new cljs.core.Keyword(null,"component-did-update","component-did-update",(-1468549173)),reagent.impl.input.input_component_set_value,new cljs.core.Keyword(null,"component-will-unmount","component-will-unmount",(-2058314698)),reagent.impl.input.input_unmount,new cljs.core.Keyword(null,"reagent-render","reagent-render",(-985383853)),(function (argv,component,jsprops,first_child,compiler){
var this$ = reagent.impl.component._STAR_current_component_STAR_;
reagent.impl.input.input_render_setup.call(null,this$,jsprops);

return reagent.impl.protocols.make_element.call(null,compiler,argv,component,jsprops,first_child);
})], null);

//# sourceURL=reagent/impl/input.js
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVhZ2VudC9pbXBsL2lucHV0LmpzIiwic291cmNlcyI6WyJpbnB1dC5jbGpzIl0sImxpbmVDb3VudCI6MTQ1LCJtYXBwaW5ncyI6IjtBQVFBLHFEQUFBLGlGQUFBLFlBQUEsZ0JBQUEsZ0JBQUEsY0FBQSxXQUFBLDNNQUFLQTtBQUdMLDhDQUFBLDlDQUFlQyxvR0FDWkM7QUFESCxBQUVFLE9BQUNDLG9DQUFVSCxtREFBZ0NFOztBQUU3QyxBQUFBLEFBRUEsMENBQUEsMEZBQUFFLHBJQUFNTSw0RkFDSEMsS0FBS0MsZUFBZUMsVUFBZUM7QUFEdEMsQUFBQSxJQUFBVCxXQUFBRDtJQUFBQyxlQUFBLEVBQUEsRUFBQSxHQUFBLENBQUFBLFlBQUEsU0FBQSxFQUFBLEVBQUEsQ0FBQSxBQUFBQSwrQ0FBQSxXQUFBLENBQUFDLGdDQUFBLEFBQUFELDZCQUFBLEtBQUEsT0FBQSxRQUFBLEFBQUFFLDBCQUFBQyxtQkFBQUgsVUFBQUE7ZUFBQSxBQUFBSSx3QkFBQUosYUFBQSxoREFDd0RVO0FBRHhELEFBRUUsR0FBQSxHQUFRLEVBQUssQ0FBWUosU0FBSyxBQUFpQkssNkJBQ3JDLEFBQUNmLHNEQUFtQixBQUFRVSxnQkFDNUIsT0FBU0MsaUNBQ1QsT0FBU0M7QUFFakIsQUFDRSxDQUFNLEFBQWdCQyx5QkFBV0Y7O0FBQ2pDLENBQU0sQUFBU0QsYUFBTUM7O0FBQ3JCLEdBQU0sQUFBQ0ssOEJBQUlGO0FBQVgsQUFDRSxPQUFDQSxtQkFBU0g7O0FBRFo7OztBQXdCRixJQUFNTSxhQUFXLEFBQVNQO0FBQTFCLEFBQ0UsR0FBSSxBQUFDUSw0QkFBS0QsV0FBV0w7QUFFbkIsdURBQUEsaERBQUNPO0FBQUQsQUFBd0IsT0FBQ0MsdURBQTBCUDs7O0FBQ25ELElBQU1RLDJCQUF5QixDQUFHLEFBQUNDLDBCQUFNTCxjQUNSLEFBQWtCUDtJQUM3Q2Esb0JBQXlCLENBQUcsQUFBQ0QsMEJBQU1YLGtCQUNSVTtBQUhqQyxBQUlFLENBQU0sQUFBZ0JSLHlCQUFXRjs7QUFDakMsQ0FBTSxBQUFTRCxhQUFNQzs7QUFDckIsR0FBTSxBQUFDSyw4QkFBSUY7QUFBWCxBQUNFLEFBQUNBLG1CQUFTSDs7QUFEWjs7QUFFQSxDQUFNLEFBQWtCRCxzQkFBTWE7O0FBQzlCLFFBQU0sQUFBZ0JiLG9CQUFNYTs7OztBQUV0QywrQ0FBQSwvQ0FBTUgsc0dBQWdDSTtBQUF0QyxBQUNFLG9CQUFNLEFBQWlCQTtBQUF2QixBQUNFLHdCQUFBLHZCQUFNLEFBQWtCQTs7QUFDeEIsSUFBTWIsaUJBQWUsQUFBcUJhO0lBQ3BDWixZQUFVLEFBQWdCWTtJQUUxQmQsT0FBSyxBQUFXYztBQUh0QixBQUlFLEdBQU0sQUFBQ04sNEJBQUtQLGVBQWVDO0FBQTNCLEFBQ0UsNkZBQUEsdEZBQUNILGtEQUFxQkMsS0FBS0MsZUFBZUMsVUFBVVk7O0FBRHREOzs7QUFOSjs7O0FBU0YseUNBQUEsekNBQU1DLDBGQUEwQkQsTUFBS0UsVUFBVUM7QUFBL0MsQUFDRSxDQUFNLEFBQWdCSCxxQkFBTSxBQUFBLEFBQUlHOztBQUdoQyxvQkFBVSxBQUFrQkg7QUFBNUI7QUFBQSxBQUNFLHdCQUFBLHZCQUFNLEFBQWtCQTs7QUFDeEIsZ0RBQUEsaERBQUNMO0FBQUQsQUFBd0IsT0FBQ0MsdURBQTBCSTs7OztBQUNyRCxPQUFDRSxvQkFBVUM7O0FBRWIsd0NBQUEseENBQU1DLHdGQUNFSixNQUFTSztBQURqQixBQUlFLG9CQUFNLDBCQUFBLGlCQUFBQyx6Q0FBSyxHQUFBLFlBQUEsWEFBT0QsMERBQ1AsdUJBQUEsdkJBQWlCQTtBQUR0QixBQUFBLG9CQUFBQztBQUVLLDhCQUFBLHZCQUFpQkQ7O0FBRnRCQzs7S0FBQTtBQUFOLEFBR0UsSUFBTUMsSUFBRSxBQUFTRjtJQUNYRyxRQUFNLGVBQUEsYkFBSSxNQUFBLExBQU1ELGVBQU1BO0lBQ3RCTCxZQUFVLEFBQVlHO0lBQ3RCSSxrQkFBZ0IsQUFBT0o7QUFIN0IsQUFJRSxvQkFBVSxBQUFpQkw7QUFBM0I7QUFBQSxBQUVFLHVCQUFBLHRCQUFNLEFBQWlCQTs7QUFDdkIsQ0FBTSxBQUFnQkEscUJBQU1ROzs7QUFDOUIsb0JBQVUsQUFBZ0JSO0FBQTFCO0FBQUEsQUFDRSxDQUFNLEFBQWdCQSxxQkFBTSxXQUFLVTtBQUFMLEFBQ0UsQ0FBTSxBQUFXVixnQkFBTVU7O0FBQ3ZCLG9CQUFNRDtBQUFOLEFBQ0UsT0FBQ0EsMEJBQWdCQzs7QUFEbkI7Ozs7O0FBRWhDLENBQU0sQUFBcUJWLDBCQUFNUTs7QUFDakMsZUFBQSxSQUFXSDs7QUFDWCxDQUFNLEFBQWdCQSx1QkFBU0c7O0FBQy9CLG9CQUFBLFdBQUFHLDlCQUFNLEFBQVlOO0FBQWxCLEFBQTRCLHdFQUFBTSxqRUFBQ1YsaURBQW9CRCxNQUFLRTs7O0FBQ3RELFFBQU0sQUFBT0csY0FBUyxBQUFnQkw7O0FBcEIxQzs7O0FBc0JGLG1DQUFBLG5DQUFNWSw4RUFBb0JaO0FBQTFCLEFBQ0UsOEJBQUEsdEJBQU0sQUFBaUJBOztBQUV6Qiw0Q0FBQSw1Q0FBZWEsZ0dBQWtCQztBQUFqQyxBQUNFLElBQUFDLFNBQU1EO0FBQU4sQUFBQSxRQUFBQztLQUFBO0tBQUE7QUFBQTs7OztBQUFBOzs7O0FBSUYsZ0NBQUEsMkNBQUEsc0VBQUEsZUFBQSxxSUFBQSw2SEFBQSxsYUFBS0Msd1BBRW9CcEIseUlBQ0VnQiw0R0FFeEIsV0FBS0ssS0FBSzVCLFVBQVVnQixRQUFRYSxZQUFZQztBQUF4QyxBQUNFLElBQU1uQixRQUFLb0I7QUFBWCxBQUNFLEFBQUNoQixnREFBbUJKLE1BQUtLOztBQUN6QixPQUFDZ0IsOENBQWVGLFNBQVNGLEtBQUs1QixVQUFVZ0IsUUFBUWEiLCJuYW1lcyI6WyJyZWFnZW50LmltcGwuaW5wdXQvdGhlc2UtaW5wdXRzLWhhdmUtc2VsZWN0aW9uLWFwaSIsInJlYWdlbnQuaW1wbC5pbnB1dC9oYXMtc2VsZWN0aW9uLWFwaT8iLCJpbnB1dC10eXBlIiwiY2xqcy5jb3JlL2NvbnRhaW5zPyIsInBfXzM1MiIsIm1hcF9fMzUzIiwiY2xqcy5jb3JlL1BST1RPQ09MX1NFTlRJTkVMIiwiY2xqcy5jb3JlL2FwcGx5IiwiY2xqcy5jb3JlL2hhc2gtbWFwIiwiY2xqcy5jb3JlL2dldCIsInJlYWdlbnQuaW1wbC5pbnB1dC9pbnB1dC1ub2RlLXNldC12YWx1ZSIsIm5vZGUiLCJyZW5kZXJlZC12YWx1ZSIsImRvbS12YWx1ZSIsImNvbXBvbmVudCIsIm9uLXdyaXRlIiwianMvZG9jdW1lbnQiLCJjbGpzLmNvcmUvZm4/Iiwibm9kZS12YWx1ZSIsImNsanMuY29yZS9ub3Q9IiwicmVhZ2VudC5pbXBsLmJhdGNoaW5nL2RvLWFmdGVyLXJlbmRlciIsInJlYWdlbnQuaW1wbC5pbnB1dC9pbnB1dC1jb21wb25lbnQtc2V0LXZhbHVlIiwiZXhpc3Rpbmctb2Zmc2V0LWZyb20tZW5kIiwiY2xqcy5jb3JlL2NvdW50IiwibmV3LWN1cnNvci1vZmZzZXQiLCJ0aGlzIiwicmVhZ2VudC5pbXBsLmlucHV0L2lucHV0LWhhbmRsZS1jaGFuZ2UiLCJvbi1jaGFuZ2UiLCJlIiwicmVhZ2VudC5pbXBsLmlucHV0L2lucHV0LXJlbmRlci1zZXR1cCIsImpzcHJvcHMiLCJhbmRfXzEwMDkxX19hdXRvX18iLCJ2IiwidmFsdWUiLCJvcmlnaW5hbC1yZWYtZm4iLCJlbCIsInAxX18xMSMiLCJyZWFnZW50LmltcGwuaW5wdXQvaW5wdXQtdW5tb3VudCIsInJlYWdlbnQuaW1wbC5pbnB1dC9pbnB1dC1jb21wb25lbnQ/IiwieCIsIkdfXzM1NSIsInJlYWdlbnQuaW1wbC5pbnB1dC9pbnB1dC1zcGVjIiwiYXJndiIsImZpcnN0LWNoaWxkIiwiY29tcGlsZXIiLCJyZWFnZW50LmltcGwuY29tcG9uZW50LypjdXJyZW50LWNvbXBvbmVudCoiLCJyZWFnZW50LmltcGwucHJvdG9jb2xzL21ha2UtZWxlbWVudCJdLCJzb3VyY2VzQ29udGVudCI6WyIobnMgcmVhZ2VudC5pbXBsLmlucHV0XG4gICg6cmVxdWlyZSBbcmVhZ2VudC5pbXBsLmNvbXBvbmVudCA6YXMgY29tcF1cbiAgICAgICAgICAgIFtyZWFnZW50LmltcGwuYmF0Y2hpbmcgOmFzIGJhdGNoXVxuICAgICAgICAgICAgW3JlYWdlbnQuaW1wbC5wcm90b2NvbHMgOmFzIHBdKSlcblxuOzsgPGlucHV0IHR5cGU9XCI/P1wiID5cbjs7IFRoZSBwcm9wZXJpdGVzICdzZWxlY3Rpb25TdGFydCcgYW5kICdzZWxlY3Rpb25FbmQnIG9ubHkgZXhpc3Qgb24gc29tZSBpbnB1dHNcbjs7IFNlZTogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNkby1ub3QtYXBwbHlcbihkZWYgdGhlc2UtaW5wdXRzLWhhdmUtc2VsZWN0aW9uLWFwaSAje1widGV4dFwiIFwidGV4dGFyZWFcIiBcInBhc3N3b3JkXCIgXCJzZWFyY2hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZWxcIiBcInVybFwifSlcblxuKGRlZm4gXmJvb2xlYW4gaGFzLXNlbGVjdGlvbi1hcGk/XG4gIFtpbnB1dC10eXBlXVxuICAoY29udGFpbnM/IHRoZXNlLWlucHV0cy1oYXZlLXNlbGVjdGlvbi1hcGkgaW5wdXQtdHlwZSkpXG5cbihkZWNsYXJlIGlucHV0LWNvbXBvbmVudC1zZXQtdmFsdWUpXG5cbihkZWZuIGlucHV0LW5vZGUtc2V0LXZhbHVlXG4gIFtub2RlIHJlbmRlcmVkLXZhbHVlIGRvbS12YWx1ZSBeY2xqIGNvbXBvbmVudCB7OmtleXMgW29uLXdyaXRlXX1dXG4gIChpZi1ub3QgKGFuZCAoaWRlbnRpY2FsPyBub2RlICguLWFjdGl2ZUVsZW1lbnQganMvZG9jdW1lbnQpKVxuICAgICAgICAgICAgKGhhcy1zZWxlY3Rpb24tYXBpPyAoLi10eXBlIG5vZGUpKVxuICAgICAgICAgICAgKHN0cmluZz8gcmVuZGVyZWQtdmFsdWUpXG4gICAgICAgICAgICAoc3RyaW5nPyBkb20tdmFsdWUpKVxuICAgIDs7IGp1c3Qgc2V0IHRoZSB2YWx1ZSwgbm8gbmVlZCB0byB3b3JyeSBhYm91dCBhIGN1cnNvclxuICAgIChkb1xuICAgICAgKHNldCEgKC4tY2xqc0RPTVZhbHVlIGNvbXBvbmVudCkgcmVuZGVyZWQtdmFsdWUpXG4gICAgICAoc2V0ISAoLi12YWx1ZSBub2RlKSByZW5kZXJlZC12YWx1ZSlcbiAgICAgICh3aGVuIChmbj8gb24td3JpdGUpXG4gICAgICAgIChvbi13cml0ZSByZW5kZXJlZC12YWx1ZSkpKVxuXG4gICAgOzsgU2V0dGluZyBcInZhbHVlXCIgKGJlbG93KSBtb3ZlcyB0aGUgY3Vyc29yIHBvc2l0aW9uIHRvIHRoZVxuICAgIDs7IGVuZCB3aGljaCBnaXZlcyB0aGUgdXNlciBhIGphcnJpbmcgZXhwZXJpZW5jZS5cbiAgICA7O1xuICAgIDs7IEJ1dCByZXBvc2l0aW9uaW5nIHRoZSBjdXJzb3Igd2l0aGluIHRoZSB0ZXh0LCB0dXJucyBvdXQgdG9cbiAgICA7OyBiZSBxdWl0ZSBhIGNoYWxsZW5nZSBiZWNhdXNlIGNoYW5nZXMgaW4gdGhlIHRleHQgY2FuIGJlXG4gICAgOzsgdHJpZ2dlcmVkIGJ5IHZhcmlvdXMgZXZlbnRzIGxpa2U6XG4gICAgOzsgLSBhIHZhbGlkYXRpb24gZnVuY3Rpb24gcmVqZWN0aW5nIGEgdXNlciBpbnB1dHRlZCBjaGFyXG4gICAgOzsgLSB0aGUgdXNlciBlbnRlcnMgYSBsb3dlciBjYXNlIGNoYXIsIGJ1dCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAgIDs7ICAgdXBwZXIuXG4gICAgOzsgLSB0aGUgdXNlciBzZWxlY3RzIG11bHRpcGxlIGNoYXJzIGFuZCBkZWxldGVzIHRleHRcbiAgICA7OyAtIHRoZSB1c2VyIHBhc3RlcyBpbiBtdWx0aXBsZSBjaGFycywgYW5kIHNvbWUgb2YgdGhlbSBhcmVcbiAgICA7OyAgIHJlamVjdGVkIGJ5IGEgdmFsaWRhdG9yLlxuICAgIDs7IC0gdGhlIHVzZXIgc2VsZWN0cyBtdWx0aXBsZSBjaGFycyBhbmQgdGhlbiB0eXBlcyBpbiBhXG4gICAgOzsgICBzaW5nbGUgbmV3IGNoYXIgdG8gcmVwYWxjZSB0aGVtIGFsbC5cbiAgICA7OyBDb21pbmcgdXAgd2l0aCBhIHNhbmUgY3Vyc29yIHJlcG9zaXRpb25pbmcgc3RyYXRlZ3kgaGFzbid0XG4gICAgOzsgYmVlbiBlYXN5IEFMVEhPVUdIIGluIHRoZSBlbmQsIGl0IGtpbmRhIGZlbGwgb3V0IG5pY2VseSxcbiAgICA7OyBhbmQgaXQgYXBwZWFycyB0byBzYW5lbHkgaGFuZGxlIGFsbCB0aGUgY2FzZXMgd2UgY291bGRcbiAgICA7OyB0aGluayBvZi5cbiAgICA7OyBTbyB0aGlzIGlzIGp1c3QgYSB3YXJuaW5nLiBUaGUgY29kZSBiZWxvdyBpcyBzaW1wbGVcbiAgICA7OyBlbm91Z2gsIGJ1dCBpZiB5b3UgYXJlIHRlbXB0ZWQgdG8gY2hhbmdlIGl0LCBiZSBhd2FyZSBvZlxuICAgIDs7IGFsbCB0aGUgc2NlbmFyaW9zIHlvdSBoYXZlIGhhbmRsZS5cbiAgICAobGV0IFtub2RlLXZhbHVlICguLXZhbHVlIG5vZGUpXVxuICAgICAgKGlmIChub3Q9IG5vZGUtdmFsdWUgZG9tLXZhbHVlKVxuICAgICAgICA7OyBJRSBoYXMgbm90IG5vdGlmaWVkIHVzIG9mIHRoZSBjaGFuZ2UgeWV0LCBzbyBjaGVjayBhZ2FpbiBsYXRlclxuICAgICAgICAoYmF0Y2gvZG8tYWZ0ZXItcmVuZGVyICMoaW5wdXQtY29tcG9uZW50LXNldC12YWx1ZSBjb21wb25lbnQpKVxuICAgICAgICAobGV0IFtleGlzdGluZy1vZmZzZXQtZnJvbS1lbmQgKC0gKGNvdW50IG5vZGUtdmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICguLXNlbGVjdGlvblN0YXJ0IG5vZGUpKVxuICAgICAgICAgICAgICBuZXctY3Vyc29yLW9mZnNldCAgICAgICAgKC0gKGNvdW50IHJlbmRlcmVkLXZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZy1vZmZzZXQtZnJvbS1lbmQpXVxuICAgICAgICAgIChzZXQhICguLWNsanNET01WYWx1ZSBjb21wb25lbnQpIHJlbmRlcmVkLXZhbHVlKVxuICAgICAgICAgIChzZXQhICguLXZhbHVlIG5vZGUpIHJlbmRlcmVkLXZhbHVlKVxuICAgICAgICAgICh3aGVuIChmbj8gb24td3JpdGUpXG4gICAgICAgICAgICAob24td3JpdGUgcmVuZGVyZWQtdmFsdWUpKVxuICAgICAgICAgIChzZXQhICguLXNlbGVjdGlvblN0YXJ0IG5vZGUpIG5ldy1jdXJzb3Itb2Zmc2V0KVxuICAgICAgICAgIChzZXQhICguLXNlbGVjdGlvbkVuZCBub2RlKSBuZXctY3Vyc29yLW9mZnNldCkpKSkpKVxuXG4oZGVmbiBpbnB1dC1jb21wb25lbnQtc2V0LXZhbHVlIFteY2xqIHRoaXNdXG4gICh3aGVuICguLWNsanNJbnB1dExpdmUgdGhpcylcbiAgICAoc2V0ISAoLi1jbGpzSW5wdXREaXJ0eSB0aGlzKSBmYWxzZSlcbiAgICAobGV0IFtyZW5kZXJlZC12YWx1ZSAoLi1jbGpzUmVuZGVyZWRWYWx1ZSB0aGlzKVxuICAgICAgICAgIGRvbS12YWx1ZSAoLi1jbGpzRE9NVmFsdWUgdGhpcylcbiAgICAgICAgICA7OyBEZWZhdWx0IHRvIHRoZSByb290IG5vZGUgd2l0aGluIHRoaXMgY29tcG9uZW50XG4gICAgICAgICAgbm9kZSAoLi1pbnB1dEVsIHRoaXMpXVxuICAgICAgKHdoZW4gKG5vdD0gcmVuZGVyZWQtdmFsdWUgZG9tLXZhbHVlKVxuICAgICAgICAoaW5wdXQtbm9kZS1zZXQtdmFsdWUgbm9kZSByZW5kZXJlZC12YWx1ZSBkb20tdmFsdWUgdGhpcyB7fSkpKSkpXG5cbihkZWZuIGlucHV0LWhhbmRsZS1jaGFuZ2UgW15jbGogdGhpcyBvbi1jaGFuZ2UgZV1cbiAgKHNldCEgKC4tY2xqc0RPTVZhbHVlIHRoaXMpICgtPiBlIC4tdGFyZ2V0IC4tdmFsdWUpKVxuICA7OyBNYWtlIHN1cmUgdGhlIGlucHV0IGlzIHJlLXJlbmRlcmVkLCBpbiBjYXNlIG9uLWNoYW5nZVxuICA7OyB3YW50cyB0byBrZWVwIHRoZSB2YWx1ZSB1bmNoYW5nZWRcbiAgKHdoZW4tbm90ICguLWNsanNJbnB1dERpcnR5IHRoaXMpXG4gICAgKHNldCEgKC4tY2xqc0lucHV0RGlydHkgdGhpcykgdHJ1ZSlcbiAgICAoYmF0Y2gvZG8tYWZ0ZXItcmVuZGVyICMoaW5wdXQtY29tcG9uZW50LXNldC12YWx1ZSB0aGlzKSkpXG4gIChvbi1jaGFuZ2UgZSkpXG5cbihkZWZuIGlucHV0LXJlbmRlci1zZXR1cFxuICBbXmNsaiB0aGlzIF5qcyBqc3Byb3BzXVxuICA7OyBEb24ndCByZWx5IG9uIFJlYWN0IGZvciB1cGRhdGluZyBcImNvbnRyb2xsZWQgaW5wdXRzXCIsIHNpbmNlIGl0XG4gIDs7IGRvZXNuJ3QgcGxheSB3ZWxsIHdpdGggYXN5bmMgcmVuZGVyaW5nIChtaXNzZXMga2V5c3Ryb2tlcykuXG4gICh3aGVuIChhbmQgKHNvbWU/IGpzcHJvcHMpXG4gICAgICAgICAgICAgKC5oYXNPd25Qcm9wZXJ0eSBqc3Byb3BzIFwib25DaGFuZ2VcIilcbiAgICAgICAgICAgICAoLmhhc093blByb3BlcnR5IGpzcHJvcHMgXCJ2YWx1ZVwiKSlcbiAgICAobGV0IFt2ICguLXZhbHVlIGpzcHJvcHMpXG4gICAgICAgICAgdmFsdWUgKGlmIChuaWw/IHYpIFwiXCIgdilcbiAgICAgICAgICBvbi1jaGFuZ2UgKC4tb25DaGFuZ2UganNwcm9wcylcbiAgICAgICAgICBvcmlnaW5hbC1yZWYtZm4gKC4tcmVmIGpzcHJvcHMpXVxuICAgICAgKHdoZW4tbm90ICguLWNsanNJbnB1dExpdmUgdGhpcylcbiAgICAgICAgOzsgc2V0IGluaXRpYWwgdmFsdWVcbiAgICAgICAgKHNldCEgKC4tY2xqc0lucHV0TGl2ZSB0aGlzKSB0cnVlKVxuICAgICAgICAoc2V0ISAoLi1jbGpzRE9NVmFsdWUgdGhpcykgdmFsdWUpKVxuICAgICAgKHdoZW4tbm90ICguLXJlYWdlbnRSZWZGbiB0aGlzKVxuICAgICAgICAoc2V0ISAoLi1yZWFnZW50UmVmRm4gdGhpcykgKGZuIFtlbF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNldCEgKC4taW5wdXRFbCB0aGlzKSBlbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHdoZW4gb3JpZ2luYWwtcmVmLWZuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9yaWdpbmFsLXJlZi1mbiBlbCkpKSkpXG4gICAgICAoc2V0ISAoLi1jbGpzUmVuZGVyZWRWYWx1ZSB0aGlzKSB2YWx1ZSlcbiAgICAgIChqcy1kZWxldGUganNwcm9wcyBcInZhbHVlXCIpXG4gICAgICAoc2V0ISAoLi1kZWZhdWx0VmFsdWUganNwcm9wcykgdmFsdWUpXG4gICAgICAoc2V0ISAoLi1vbkNoYW5nZSBqc3Byb3BzKSAjKGlucHV0LWhhbmRsZS1jaGFuZ2UgdGhpcyBvbi1jaGFuZ2UgJSkpXG4gICAgICAoc2V0ISAoLi1yZWYganNwcm9wcykgKC4tcmVhZ2VudFJlZkZuIHRoaXMpKSkpKVxuXG4oZGVmbiBpbnB1dC11bm1vdW50IFteY2xqIHRoaXNdXG4gIChzZXQhICguLWNsanNJbnB1dExpdmUgdGhpcykgbmlsKSlcblxuKGRlZm4gXmJvb2xlYW4gaW5wdXQtY29tcG9uZW50PyBbeF1cbiAgKGNhc2UgeFxuICAgIChcImlucHV0XCIgXCJ0ZXh0YXJlYVwiKSB0cnVlXG4gICAgZmFsc2UpKVxuXG4oZGVmIGlucHV0LXNwZWNcbiAgezpkaXNwbGF5LW5hbWUgXCJSZWFnZW50SW5wdXRcIlxuICAgOmNvbXBvbmVudC1kaWQtdXBkYXRlIGlucHV0LWNvbXBvbmVudC1zZXQtdmFsdWVcbiAgIDpjb21wb25lbnQtd2lsbC11bm1vdW50IGlucHV0LXVubW91bnRcbiAgIDpyZWFnZW50LXJlbmRlclxuICAgKGZuIFthcmd2IGNvbXBvbmVudCBqc3Byb3BzIGZpcnN0LWNoaWxkIGNvbXBpbGVyXVxuICAgICAobGV0IFt0aGlzIGNvbXAvKmN1cnJlbnQtY29tcG9uZW50Kl1cbiAgICAgICAoaW5wdXQtcmVuZGVyLXNldHVwIHRoaXMganNwcm9wcylcbiAgICAgICAocC9tYWtlLWVsZW1lbnQgY29tcGlsZXIgYXJndiBjb21wb25lbnQganNwcm9wcyBmaXJzdC1jaGlsZCkpKX0pXG4iXX0=